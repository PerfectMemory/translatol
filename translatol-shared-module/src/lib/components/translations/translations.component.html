<div class="content-container" *ngIf="translations$ | async as translations">
  <div class="content-area">
    <app-notification></app-notification>
    <h2 [title]="filePath">{{ filePath | endOfString : 50 }}</h2>
    <div class="ui-header">
      <app-translation-search (changed)="searched$.emit($event)"> </app-translation-search>
      <div>
        <button type="button" class="btn btn-success-outline" (click)="refresh()" i18n="@@translations.refresh">Refresh</button>
        <button
          type="button"
          class="btn btn-danger-outline"
          i18n="@@translations.delete-key"
          [disabled]="!isObsoleteTranslation"
          (click)="openModal()"
        >
          Delete obsolete key
        </button>
      </div>
    </div>

    <!--     <app-translation-language *ngFor="let file of translations.children" [file]="file" (submitted)="onSave()"></app-translation-language> -->
    <app-translation-list
      [translations]="toTranslate$ | async"
      [targetLanguage]="targetLanguage"
      i18n-listTitle="@@translations.to-translate"
      listTitle="To translate"
      (submitted)="onSave()"
    ></app-translation-list>
    <app-translation-list
      [translations]="translated$ | async"
      i18n-listTitle="@@translations.translated"
      listTitle="Translated"
      (submitted)="onSave()"
    ></app-translation-list>
  </div>
  <nav class="sidenav">
    <app-translation-navigation [toTranslate]="toTranslate$ | async" [translated]="translated$ | async"> </app-translation-navigation>
  </nav>
</div>

<app-modal
  i18n-title="@@translations.modal-title"
  title="Are you sure?"
  i18n-message="@@translations.modal-message"
  message="Are you sure to remove obsolete translation keys from your document?"
  i18n-buttonLabel="@@translations.modal-button"
  buttonLabel="Delete"
  [isOpen]="openModalDeleteObsolete"
  (close)="deleteObsoleteKey($event)"
></app-modal>
